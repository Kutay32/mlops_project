FROM python:3.9-slim

WORKDIR /app

# Install dependencies with matching MLflow version
RUN pip install --no-cache-dir mlflow==2.21.0 scikit-learn pandas joblib

# Copy script and model
COPY scripts/register_model_docker.py ./register_model.py
COPY model_artifact.joblib .

# Run registration
CMD ["python", "register_model.py"]
